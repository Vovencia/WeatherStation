{"version":3,"sources":["webpack:///./containers/AppProgress/index.tsx","webpack:///./containers/CityButton/index.tsx","webpack:///./containers/ModalCityChoose/index.tsx","webpack:///./containers/Weather/index.tsx","webpack:///./index.tsx","webpack:///./store/actions/cityActions.ts","webpack:///./store/actions/cityChooseActions.ts","webpack:///./store/actions/weatherActions.ts","webpack:///./store/index.ts","webpack:///./store/initialStates.ts","webpack:///./store/reducers/appReducer.ts","webpack:///./store/reducers/cityChooseReducer.ts","webpack:///./store/reducers/cityReducer.ts","webpack:///./store/reducers/index.ts","webpack:///./store/reducers/weatherReducer.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["import * as React \t\t\t\tfrom \"react\";\r\nimport styled \t\t\t\t\tfrom \"styled-components\";\r\nimport {connect}\t\t\t\tfrom \"react-redux\";\r\nimport LinearProgress \t\t\tfrom '@material-ui/core/LinearProgress';\r\n\r\nimport IStateRoot \t\t\t\tfrom \"@interfaces/IStateRoot\"\r\n\r\nfunction AppProgress(props: {\r\n\tvisible: boolean,\r\n}){\r\n\treturn (\r\n\t\tprops.visible ? (\r\n\t\t\t<AppProgressStyled>\r\n\t\t\t\t<LinearProgress color=\"secondary\" />\r\n\t\t\t</AppProgressStyled>\r\n\t\t) : null\r\n\t)\r\n}\r\n\r\nconst AppProgressStyled = styled(\"div\")`\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tz-index: 1101;\r\n`\r\n\r\nexport default connect(function mapStateToProps(state: IStateRoot){\r\n\treturn {\r\n\t\tvisible: state.app.loading > 0\r\n\t}\r\n})(AppProgress)","import * as React \t\tfrom \"react\";\r\nimport {compose} \t\tfrom \"redux\";\r\nimport {\r\n\tconnect,\r\n\tDispatchProp,\r\n}\t\t\t\t\t\tfrom \"react-redux\";\r\nimport {\r\n\twithSnackbar,\r\n\tInjectedNotistackProps\r\n} \t\t\t\t\t\tfrom 'notistack';\r\nimport {\r\n\tThunkDispatch\r\n} \t\t\t\t\t\tfrom \"redux-thunk\";\r\n\r\nimport Button  \t\t\tfrom '@material-ui/core/Button';\r\nimport LocationCity \tfrom \"@material-ui/icons/LocationCity\"\r\nimport CircularProgress\tfrom \"@material-ui/core/CircularProgress\"\r\n\r\nimport IStateRoot \t\tfrom \"@interfaces/IStateRoot\"\r\nimport IStateCity \t\tfrom \"@interfaces/IStateCity\"\r\n\r\nimport {\r\n\tloadByName as cityLoadByName,\r\n\tloadByCoordinates as cityLoadByCoordinates\r\n} \t\t\t\t\t\tfrom \"@actions/cityActions\"\r\n\r\nimport {\r\n\topen as cityChooseOpen\r\n} \t\t\t\t\t\tfrom \"@actions/cityChooseActions\"\r\n\r\n\r\ndeclare var ymaps: any;\r\n\r\nclass CityButton extends React.Component<\r\n\tInjectedNotistackProps & IStateCity & {\r\n\t\tcityLoadByName;\r\n\t\tcityLoadByCoordinates;\r\n\t\tcityChooseOpen;\r\n\t}\r\n, {\r\n\tloading: boolean;\r\n}> {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t}\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<Button variant=\"contained\" color=\"default\" onClick={ () => this.props.cityChooseOpen() }>\r\n\t\t\t\t{this.state.loading || this.props.loading ? <CircularProgress size={24} /> : <LocationCity />}\r\n\t\t\t\t&nbsp;\r\n\t\t\t\t{this.props.loaded && this.props.title ? this.props.title : 'Выбрать город'}\r\n\t\t\t</Button>\r\n\t\t)\r\n\t}\r\n\tasync getGeolocation(){\r\n\t\tthis.setState({\r\n\t\t\tloading: true,\r\n\t\t})\r\n\t\tawait ymaps.ready();\r\n\r\n\t\ttry {\r\n\t\t\tlet location = await ymaps.geolocation.get();\r\n\t\t\tlocation = location.geoObjects.position;\r\n\t\t\tthis.props.cityLoadByCoordinates(location[0], location[1]);\r\n\t\t} catch(e){\r\n\t\t\tthis.props.enqueueSnackbar(e.message, {\r\n\t\t\t\tvariant: 'error'\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tloading: false,\r\n\t\t})\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.getGeolocation();\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state: IStateRoot){\r\n\treturn state.city\r\n}\r\nfunction mapDispatchToProps(dispatch: ThunkDispatch<IStateRoot, undefined, any>){\r\n\treturn {\r\n\t\tcityLoadByName: (name: string) => dispatch(cityLoadByName(name)),\r\n\t\tcityLoadByCoordinates: (latt: number, lang: number) => dispatch(cityLoadByCoordinates(latt, lang)),\r\n\t\tcityChooseOpen: () => dispatch(cityChooseOpen())\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithSnackbar\r\n)(CityButton)","import * as React \t\t\tfrom \"react\";\r\nimport {connect}\t\t\tfrom \"react-redux\";\r\nimport styled\t\t\t\tfrom \"styled-components\";\r\n\r\nimport Button \t\t\t\tfrom '@material-ui/core/Button';\r\nimport TextField\t\t\tfrom '@material-ui/core/TextField';\r\nimport InputAdornment \t\tfrom '@material-ui/core/InputAdornment';\r\nimport Dialog \t\t\t\tfrom '@material-ui/core/Dialog';\r\nimport DialogContent \t\tfrom '@material-ui/core/DialogContent';\r\nimport DialogTitle \t\t\tfrom '@material-ui/core/DialogTitle';\r\nimport DialogActions \t\tfrom '@material-ui/core/DialogActions';\r\nimport MenuItem \t\t\tfrom '@material-ui/core/MenuItem';\r\nimport MenuList \t\t\tfrom '@material-ui/core/MenuList';\r\nimport Menu\t\t \t\t\tfrom '@material-ui/core/Menu';\r\nimport CircularProgress\t\tfrom '@material-ui/core/CircularProgress';\r\n\r\nimport IStateRoot \t\t\tfrom \"@interfaces/IStateRoot\"\r\nimport IStateCityChoose\t\tfrom \"@interfaces/IStateCityChoose\"\r\nimport ICityResultItem\t\tfrom \"@interfaces/ICityResultItem\"\r\n\r\nimport {\r\n\tclose as cityChooseClose,\r\n\tload as cityCooseLoad,\r\n}\t\t\t\t\t\t\tfrom \"@actions/cityChooseActions\"\r\n\r\nimport {\r\n\tsetCity\r\n} \t\t\t\t\t\t\tfrom \"@actions/cityActions\"\r\n\r\n\r\nclass ModalCityChoose extends React.Component<\r\n\tReact.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> &\r\n\tIStateCityChoose & {\r\n\t\tcityChooseClose;\r\n\t\tcityCooseLoad;\r\n\t\tsetCity;\r\n\t\tcurrentCity: number;\r\n}> {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={ this.props.open }\r\n\t\t\t\tscroll={'paper'}\r\n\t\t\t\taria-labelledby=\"scroll-dialog-title\"\r\n\t\t\t\tclassName={this.props.className}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth={'xs'}\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"scroll-dialog-title\">Выбор города</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Название города\"\r\n\t\t\t\t\t\tvalue={this.props.query}\r\n\t\t\t\t\t\tonChange={this.onInputChange}\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t\t\t\t{ this.props.loading ? <CircularProgress size={24} /> : \"\" }\r\n\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ this.renderList() }\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={() => this.props.cityChooseClose()} color=\"primary\">\r\n\t\t\t\t\t\tЗакрыть\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\tonInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tthis.props.cityCooseLoad(e.target.value);\r\n\t}\r\n\trenderList(){\r\n\t\treturn (\r\n\t\t\t<MenuList style={{height: '200px', overflow: 'auto'}}>\r\n\t\t\t\t{ this.props.result.map( item => (\r\n\t\t\t\t\t\t<MenuItem onClick={(e) => this.handlerCityClick(e, item)} key={item.woeid} selected={ item.woeid === this.props.currentCity }>{item.title}</MenuItem>)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</MenuList>\r\n\t\t)\r\n\t}\r\n\thandlerCityClick = (e: React.MouseEvent, item: ICityResultItem) => {\r\n\t\tthis.props.setCity(item);\r\n\t\tthis.props.cityChooseClose();\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state: IStateRoot) => {\r\n\treturn {\r\n\t\t...state.cityChoose,\r\n\t\tcurrentCity: state.city.woeid\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tcityChooseClose: () => dispatch(cityChooseClose()),\r\n\t\tcityCooseLoad: (query: string) => dispatch(cityCooseLoad(query)),\r\n\t\tsetCity: (city: ICityResultItem) => dispatch(setCity(city)),\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalCityChoose)","import * as React \t\t\t\tfrom \"react\";\r\nimport { connect } \t\t\t\tfrom \"react-redux\"\r\nimport styled \t\t\t\t\tfrom \"styled-components\";\r\nimport {RouteComponentProps} \tfrom \"react-router-dom\"\r\n\r\nimport Button \t\t\t\t\tfrom '@material-ui/core/Button';\r\nimport CircularProgress\t\t\tfrom '@material-ui/core/CircularProgress';\r\nimport Typography\t\t\t\tfrom '@material-ui/core/Typography';\r\n\r\nimport IStateRoot \t\t\t\tfrom \"@interfaces/IStateRoot\";\r\nimport IStateWeather \t\t\tfrom \"@interfaces/IStateWeather\";\r\nimport IWeatherResultItem \t\tfrom \"@interfaces/IWeatherResultItem\";\r\n\r\nimport {open as cityChooseOpen} from \"@actions/cityChooseActions\"\r\nimport {getWeather} \t\t\tfrom \"@actions/weatherActions\"\r\n\r\nimport WeatherItem \t\t\t\tfrom \"@components/WeatherItem\"\r\n\r\n\r\ntype IWeatherProps = IStateWeather & RouteComponentProps & {\r\n\tcityChooseOpen;\r\n\tgetWeather;\r\n\tshowLoading: boolean;\r\n\tselectedCity: number;\r\n\tselectedCityTitle: string;\r\n}\r\n\r\nclass Weather extends React.Component<IWeatherProps> {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<WeatherStyled>\r\n\t\t\t\t<Typography variant=\"h1\" align=\"center\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.props.selectedCityTitle\r\n\t\t\t\t\t\t? `Погода в городе ${this.props.selectedCityTitle}`\r\n\t\t\t\t\t\t: <span>&nbsp;</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.showLoading\r\n\t\t\t\t\t? <WeatherContentWrapper><CircularProgress /></WeatherContentWrapper>\r\n\t\t\t\t\t: (\r\n\t\t\t\t\t\tthis.props.isLoaded\r\n\t\t\t\t\t\t? this.renderItems(this.props.list)\r\n\t\t\t\t\t\t: this.renderButtonLoad()\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</WeatherStyled>\r\n\t\t)\r\n\t}\r\n\trenderButtonLoad(){\r\n\t\treturn (\r\n\t\t\t<WeatherContentWrapper>\r\n\t\t\t\t<Button onClick={this.handlerButtonLoad} variant=\"contained\" color=\"primary\" size=\"large\">\r\n\t\t\t\t\t{ this.props.selectedCity ? 'Получить прогноз погоды' : 'Выбрать город' }\r\n\t\t\t\t</Button>\r\n\t\t\t</WeatherContentWrapper>\r\n\t\t)\r\n\t}\r\n\trenderItems(items: IWeatherResultItem[]){\r\n\t\treturn (\r\n\t\t\t<WeatherItems>\r\n\t\t\t\t{\r\n\t\t\t\t\titems.map((item, index) => (\r\n\t\t\t\t\t\t<WeatherItem key={item.applicable_date} big={index === 0} {...item} />\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t</WeatherItems>\r\n\t\t)\r\n\t}\r\n\thandlerButtonLoad = (e: React.MouseEvent) => {\r\n\t\tif(this.props.selectedCity){\r\n\t\t\tthis.props.getWeather(this.props.selectedCity)\r\n\t\t} else {\r\n\t\t\tthis.props.cityChooseOpen();\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate(prevProps: IWeatherProps){\r\n\t\tif(!this.props.isLoaded) return;\r\n\t\tif(this.props.selectedCity == prevProps.selectedCity) return;\r\n\t\tthis.props.getWeather(this.props.selectedCity)\r\n\t}\r\n}\r\n\r\nconst WeatherStyled = styled(\"div\")`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n\tmargin: 100px 20px;\r\n`\r\n\r\nconst WeatherContentWrapper = styled(\"div\")`\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n`\r\n\r\nconst WeatherItems = styled(\"div\")`\r\n\tdisplay: flex;\r\n\tmargin: 30px 0;\r\n\tflex-wrap: wrap;\r\n\twidth: 100%;\r\n\tjustify-content: center;\r\n\t> * {\r\n\t\tpadding: 10px;\r\n\t}\r\n`\r\n\r\nconst mapStateToProps = (state: IStateRoot) => {\r\n\treturn {\r\n\t\t...state.weather,\r\n\t\tselectedCity: state.city.woeid,\r\n\t\tselectedCityTitle: state.city.title,\r\n\t\tshowLoading: state.city.loading || state.weather.loading\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tcityChooseOpen: () => dispatch(cityChooseOpen()),\r\n\t\tgetWeather: (cityWoeid: (string | number)) => dispatch(getWeather(cityWoeid)),\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Weather);","import * as React \t\t\t\tfrom \"react\";\r\nimport * as ReactDOM \t\t\tfrom \"react-dom\";\r\nimport { Provider } \t\t\tfrom \"react-redux\";\r\nimport {BrowserRouter}\t\t\tfrom \"react-router-dom\"\r\nimport { SnackbarProvider }\t\tfrom 'notistack';\r\n\r\nimport store \t\t\t\t\tfrom \"@store\";\r\n\r\nimport Layout \t\t\t\t\tfrom \"@components/Layout\";\r\n\r\nReactDOM.render(\r\n\t<BrowserRouter>\r\n\t\t<Provider store={ store } >\r\n\t\t\t<SnackbarProvider maxSnack={5} anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}>\r\n\t\t\t\t<Layout />\r\n\t\t\t</SnackbarProvider>\r\n\t\t</Provider>\r\n\t</BrowserRouter>\r\n, document.querySelector('#root'));","import ICityResultItem \t\t\t\t\tfrom \"@interfaces/ICityResultItem\";\r\n\r\nimport {\r\n\tloadByCoordinates as cityLoadByCoordinates,\r\n\tloadByName as cityLoadByName\r\n} \t\t\t\t\t\t\t\t\t\tfrom \"@models/city\"\r\n\r\nexport const CITY_START_LOADING = 'CITY_START_LOADING';\r\nexport const CITY_DONE_LOADING = 'CITY_DONE_LOADING';\r\nexport const CITY_SET = 'CITY_SET';\r\n\r\nexport const loadByName = (name: string) => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({type: CITY_START_LOADING, value: {type: 'byName', name}});\r\n\t\tcityLoadByName(name)\r\n\t\t\t.then(data => {\r\n\t\t\t\tloaded(dispatch, data);\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tloaded(dispatch, []);\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nexport const loadByCoordinates = (latt: number, lang: number) => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({type: CITY_START_LOADING, value: {type: 'byCoordinates', latt, lang}});\r\n\t\tcityLoadByCoordinates(latt, lang)\r\n\t\t\t.then(data => {\r\n\t\t\t\tloaded(dispatch, data);\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tloaded(dispatch, []);\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nconst loaded = (dispatch, value) => {\r\n\tdispatch({type: CITY_DONE_LOADING, value});\r\n\tdispatch(setCity(value[0] || null))\r\n}\r\n\r\nexport const setCity = (city: ICityResultItem) => {\r\n\treturn {\r\n\t\ttype: CITY_SET,\r\n\t\tvalue: city,\r\n\t}\r\n}","import debounce\t\t\t\t\t\t\t\t= require(\"lodash/debounce\");\r\n\r\nimport {\r\n\tloadByName as cityLoadByName\r\n} \t\t\t\t\t\t\t\t\t\t\t\t\tfrom \"@models/city\"\r\n\r\nexport const CITY_CHOOSE_START_LOADING \t\t= 'CITY_CHOOSE_START_LOADING';\r\nexport const CITY_CHOOSE_CANCELED_LOADING \t= 'CITY_CHOOSE_CANCELED_LOADING';\r\nexport const CITY_CHOOSE_DONE_LOADING \t\t= 'CITY_CHOOSE_DONE_LOADING';\r\nexport const CITY_CHOOSE_OPEN\t\t\t\t= 'CITY_CHOOSE_OPEN';\r\nexport const CITY_CHOOSE_CLOSE \t\t\t\t= 'CITY_CHOOSE_CLOSE';\r\n\r\n\r\nconst loadDebounced = (() => {\r\n\tlet timeout: any;\r\n\tlet lastCancelHandler: (() => void) = () => {};\r\n\treturn (handler: () => void, cancelHandler?: () => void) => {\r\n\t\tif(timeout){\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tif(lastCancelHandler) lastCancelHandler();\r\n\t\t}\r\n\t\tlastCancelHandler = cancelHandler;\r\n\r\n\t\ttimeout = setTimeout(() => {\r\n\t\t\ttimeout = null;\r\n\t\t\thandler();\r\n\t\t}, 500);\r\n\t}\r\n})();\r\n\r\nexport const load = (query: string) => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({type: CITY_CHOOSE_START_LOADING, value: query});\r\n\t\tloadDebounced(() => {\r\n\t\t\tcityLoadByName(query)\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tdispatch({type: CITY_CHOOSE_DONE_LOADING, value: data});\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tdispatch({type: CITY_CHOOSE_DONE_LOADING, value: []});\r\n\t\t\t\t})\r\n\t\t}, () => {\r\n\t\t\tdispatch({type: CITY_CHOOSE_CANCELED_LOADING, value: query});\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const open = () => {\r\n\treturn {\r\n\t\ttype: CITY_CHOOSE_OPEN\r\n\t}\r\n}\r\n\r\nexport const close = () => {\r\n\treturn {\r\n\t\ttype: CITY_CHOOSE_CLOSE\r\n\t}\r\n}","import {getWeather as weatherGetWeather} from \"@models/weather\"\r\n\r\nexport const WEATHER_START_LOADING = 'WEATHER_START_LOADING';\r\nexport const WEATHER_DONE_LOADING = 'WEATHER_DONE_LOADING';\r\n\r\nexport const getWeather = (cityWoeid: (string | number)) => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({type: WEATHER_START_LOADING, value: cityWoeid});\r\n\t\tweatherGetWeather(cityWoeid).then(data => {\r\n\t\t\tdispatch({type: WEATHER_DONE_LOADING, value: data});\r\n\t\t})\r\n\t}\r\n}","import {\r\n\tcreateStore,\r\n\tapplyMiddleware,\r\n\tcompose\r\n} \t\t\t\t\t\t\t\tfrom \"redux\";\r\nimport thunkMiddleware \t\t\tfrom 'redux-thunk'\r\n\r\n\r\nimport rootReducer \t\t\t\tfrom \"@reducers\";\r\n\r\nconst middlewares = [thunkMiddleware]\r\nconst plugins = [applyMiddleware(...middlewares), window['__REDUX_DEVTOOLS_EXTENSION__'] && window['__REDUX_DEVTOOLS_EXTENSION__']()].filter(Boolean)\r\n\r\nconst store = createStore(rootReducer, compose(...plugins));\r\n\r\nexport default store;","import IStateApp \t\t\tfrom \"@interfaces/IStateApp\"\r\nimport IStateWeather \t\tfrom \"@interfaces/IStateWeather\"\r\nimport IStateCity\t \t\tfrom \"@interfaces/IStateCity\"\r\nimport IStateCityChoose\t\tfrom \"@interfaces/IStateCityChoose\"\r\n\r\n\r\nexport const weatherState:IStateWeather = {\r\n\tlist: [],\r\n\tisLoaded: false,\r\n\tloading: false,\r\n}\r\n\r\nexport const appState:IStateApp = {\r\n\tloading: 0,\r\n}\r\n\r\nexport const cityState: IStateCity = {\r\n\tloading: false,\r\n\tloaded: false,\r\n}\r\n\r\nexport const cityChooseState: IStateCityChoose = {\r\n\topen: false,\r\n\tloading: false,\r\n\tresult: [],\r\n\tquery: '',\r\n}","import {appState} from \"@store/initialStates\";\r\n\r\nexport default function weatherReducer (state = appState, action){\r\n\treturn state;\r\n}","import {cityChooseState} \t\t\tfrom \"@store/initialStates\";\r\nimport {\r\n\tCITY_CHOOSE_START_LOADING,\r\n\tCITY_CHOOSE_DONE_LOADING,\r\n\tCITY_CHOOSE_OPEN,\r\n\tCITY_CHOOSE_CLOSE,\r\n} \t\t\t\t\t\t\t\t\tfrom \"@actions/cityChooseActions\";\r\n\r\nimport ICityResultItem \t\t\t\tfrom \"@interfaces/ICityResultItem\"\r\n\r\nexport default function cityChooseReducer (state = cityChooseState, action){\r\n\tswitch(action.type){\r\n\t\tcase CITY_CHOOSE_START_LOADING:\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tquery: action.value,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t\tcase CITY_CHOOSE_DONE_LOADING:\r\n\t\t\tconst cities: (ICityResultItem[]) = Array.isArray(action.value) ? action.value : [];\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tresult: cities,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t\tcase CITY_CHOOSE_OPEN:\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\topen: true,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t\tcase CITY_CHOOSE_CLOSE:\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\topen: false,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t}\r\n\treturn state;\r\n}","import {cityState} \t\t\tfrom \"@store/initialStates\";\r\nimport {\r\n\tCITY_START_LOADING,\r\n\tCITY_DONE_LOADING,\r\n\tCITY_SET\r\n} \t\t\t\t\t\t\tfrom \"@actions/cityActions\";\r\n\r\nimport ICityResultItem \t\tfrom \"@interfaces/ICityResultItem\"\r\n\r\nexport default function cityReducer (state = cityState, action){\r\n\tswitch(action.type){\r\n\t\tcase CITY_START_LOADING:\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t\tcase CITY_DONE_LOADING:\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t\tcase CITY_SET:\r\n\t\t\tlet city: (ICityResultItem) = action.value;\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tloaded: !!city,\r\n\t\t\t\ttitle: city ? city.title : '',\r\n\t\t\t\twoeid: city ? city.woeid : 0,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t}\r\n\treturn state;\r\n}","import {combineReducers} \tfrom \"redux\";\r\n\r\nimport IStateRoot\t\t\tfrom \"@interfaces/IStateRoot\";\r\n\r\nimport appReducer \t\t\tfrom \"@reducers/appReducer\";\r\nimport weatherReducer \t\tfrom \"@reducers/weatherReducer\";\r\nimport cityReducer \t\t\tfrom \"@reducers/cityReducer\";\r\nimport cityChooseReducer \t\t\tfrom \"@reducers/cityChooseReducer\";\r\n\r\nconst reducers = combineReducers<IStateRoot>({\r\n\tapp: appReducer,\r\n\tweather: weatherReducer,\r\n\tcity: cityReducer,\r\n\tcityChoose: cityChooseReducer,\r\n})\r\n\r\nexport default reducers;","import {weatherState} from \"@store/initialStates\";\r\n\r\nimport {WEATHER_START_LOADING, WEATHER_DONE_LOADING} from \"@actions/weatherActions\"\r\n\r\nexport default function weatherReducer (state = weatherState, action){\r\n\tswitch(action.type){\r\n\t\tcase WEATHER_START_LOADING:\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t\tcase WEATHER_DONE_LOADING:\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tisLoaded: true,\r\n\t\t\t\tlist: action.value,\r\n\t\t\t}\r\n\t\tbreak;\r\n\t}\r\n\treturn state;\r\n}"],"sourceRoot":""}